<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
  <!-- BASICS -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>서울강남공영이</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="css/isotope.css" media="screen" />
  <!--  custom.css 파일 추가(나의 css수정본)-->
  <link rel="stylesheet" type="text/css" href="css/custom.css" media="screen" /> 
  <link rel="stylesheet" href="js/fancybox/jquery.fancybox.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/bootstrap-theme.css">
  <link href="css/responsive-slider.css" rel="stylesheet">
  <link rel="stylesheet" href="css/animate.css">
  <link rel="stylesheet" href="css/style.css">

  <link rel="stylesheet" href="css/font-awesome.min.css">
  <!-- skin -->
  <link rel="stylesheet" href="skin/default.css">
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=kakaokey"></script>
   <script>
      function update_gangnam_parking_info(parkingType, listId) {
        let key = 'appkey'
        $('#'+listId).html('');
        $.ajax({
          type: "GET",
          url: "http://openapi.seoul.go.kr:8088/" + key + "/json/gangnamParingInfo/1/60",
          data: {},
          success: function(response){
              let staticMapContainers = [];
              let staticMaps = [];
              
              let rows = response['gangnamParingInfo']['row'];
              for (let i = 0; i < rows.length; i++) {
                let parking_name = rows[i]['NM'];
                let parking_type = rows[i]['KIND']
                let open_date = rows[i]['OPEN_DATE']
                let money_info = rows[i]['MONEY_INFO']
                let basic_money = rows[i]['BASIC_MONEY']
                let add_money = rows[i]['ADD_MONEY']
                let add_time = rows[i]['ADD_TIME']
                let addr = rows[i]['ADDR']
                console.log(rows[i]);
//                console.log(parking_type)
                let btn_color = ['primary','success','danger','warning','info']
                if(parking_type == parkingType){
//                    console.log(addr)
                    let temp_html = '<button type="button" class="btn btn-' + randomItem(btn_color) + '" data-toggle="modal" data-target="#' + rows[i]['ID'] + '">' + parking_name + '</button><hr><div class="modal fade" id="' + rows[i]['ID'] + '" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true"><div  class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel">' + parking_name + '</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"><div id="map_'+rows[i]['ID']+'" class="kakao_static_map" style="width:350px;height:250px;margin:auto;"></div><hr><B>운영시간 : </B>' + open_date + '<br><B>유/무료 : </B>' + money_info + '<br><B>기본 요금 : </B>' + basic_money + '<br><B>추가 시간 : </B>' + add_time + '분 마다 ' + add_money +'원<br><B>도로명 주소 : </B>' + addr + '</div><div class="modal-footer"><button type="button" class="btn  btn-secondary" data-dismiss="modal">닫기</button></div></div></div></div>'
                   /* let temp_html = '<li>'+ parking_name + ' : '+ parking_type + '</li>'
                    $('#parking_list1').append(temp_html);*/
                    $('#'+listId).append(temp_html);
                    
                    $('#'+rows[i]['ID']).on('shown.bs.modal', function (event) {
                        staticMapContainers[i] = document.getElementById('map_'+rows[i]['ID']), // 이미지 지도를 표시할 div
                            staticMapOption = { 
                            center: new kakao.maps.LatLng(rows[i]['YCODE'], rows[i]['XCODE']), // 이미지 지도의 중심좌표
                            level: 3, // 이미지 지도의 확대 레벨,
                            marker: {
                                position: new kakao.maps.LatLng(rows[i]['YCODE'], rows[i]['XCODE'])
                            }
                        };

                    // 이미지 지도를 표시할 div와 옵션으로 이미지 지도를 생성합니다
                        staticMaps[i] = new kakao.maps.StaticMap(staticMapContainers[i], staticMapOption);
                    });
                }
             }
          }
        })
      } // 다만들고 나면 노상이랑 노외 출력하는거 지우기

       // 랜덤함수
       function randomItem(a){
           return a[Math.floor(Math.random() * a.length)];
       }
    </script>
</head>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div><body>
  <div class="header">
    <section id="header" class="appear">
      <div class="navbar navbar-fixed-top" role="navigation" data-0="line-height:100px; height:100px; background-color:rgba(0,0,0,0.3);" data-300="line-height:60px; height:60px; background-color:rgba(0,0,0,1);">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="fa fa-bars color-white"></span>
          </button>
          <h1><a class="navbar-brand" href="index.html" data-0="line-height:90px;" data-300="line-height:50px;">공영이
            </a></h1>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav" data-0="margin-top:20px;" data-300="margin-top:5px;">
            <li class="active"><a href="#header">홈</a></li>
            <li><a href="#on_street">노상</a></li>
            <li><a href="#off_street">노외</a></li>
            <li><a href="#team">즐겨찾기</a></li>
            <li><a href="#footer">Contact</a></li>
          </ul>
        </div>
        <!--/.navbar-collapse -->
      </div>
    </section>
  </div>
  <div class="slider">
    <div id="about-slider">
      <div id="carousel-slider" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators visible-xs">
          <li data-target="#carousel-slider" data-slide-to="0" class="active"></li>
          <li data-target="#carousel-slider" data-slide-to="1"></li>
          <li data-target="#carousel-slider" data-slide-to="2"></li>
        </ol>

        <div class="carousel-inner">
          <div class="item active" style="background-image: url('./img/parallax/parking2.jpg');">
            <div class="carousel-caption">
              <div class="wow fadeInUp" data-wow-offset="0" data-wow-delay="0.3s">
                <h2>강남 공영이</h2>
              </div>
              <div class="col-md-10 col-md-offset-1">
                <div class="wow fadeInUp" data-wow-offset="0" data-wow-delay="0.6s">
                  <p>서울시 강남구 공영주차장 전용 웹사이트 입니다.</p>
                </div>
              </div>
              <div class="wow fadeInUp" data-wow-offset="0" data-wow-delay="0.9s">
                <form class="form-inline">
                  <div class="form-group">
                    <button type="livedemo" name="Live Demo" class="btn btn-primary btn-lg" required="required">노상</button>
                  </div>
                  <div class="form-group">
                    <button type="getnow" name="Get Now" class="btn btn-primary btn-lg" required="required">노외</button>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <div class="item" style="background-image: url('/img/parallax/parking4.jpg');">
            <div class="carousel-caption">
              <div class="wow fadeInUp" data-wow-offset="0" data-wow-delay="1.0s">
                <h2>GangNam Public Parking Zone</h2>
              </div>
              <div class="col-md-10 col-md-offset-1">
                <div class="wow fadeInUp" data-wow-offset="0" data-wow-delay="0.6s">
                  <p>This is a website dedicated to the public parking lot of Gangnam.</p>
                </div>
              </div>
              <div class="wow fadeInUp" data-wow-offset="0" data-wow-delay="1.6s">
                <form class="form-inline">
                  <div class="form-group">
                    <button type="livedemo" name="purchase" class="btn btn-primary btn-lg" required="required">On Street</button>
                  </div>
                  <div class="form-group">
                    <button type="getnow" name="subscribe" class="btn btn-primary btn-lg" required="required">Off Street</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>

        <a class="left carousel-control hidden-xs" href="#carousel-slider" data-slide="prev">
          <i class="fa fa-angle-left"></i>
        </a>

        <a class=" right carousel-control hidden-xs" href="#carousel-slider" data-slide="next">
          <i class="fa fa-angle-right"></i>
        </a>
      </div>
      <!--/#carousel-slider-->
    </div>
    <!--/#about-slider-->
  </div>
  <!--/#slider-->

  <!--about-->
  <section id="on_street">
    <div class="container">
      <div class="about">
        <div class="row mar-bot40">
          <div class="col-md-offset-3 col-md-6">
            <div class="title">
              <div class="wow bounceIn">
                <h2 class="section-heading animated" data-animation="bounceInUp">노상주차장</h2>
              </div>
            </div>
          </div>
        </div>
        <div class="row">

          <div class="row-slider">
            <div class="col-lg-6 mar-bot30">
              <div class="responsive-slider" data-spy="responsive-slider" data-autoplay="true">
                <div class="slides" data-group="slides">
                  <ul>
                    <div class="slide-body" data-group="slide">
                      <li><img alt="" class="img-responsive" src="img/onload1.jpg" width="100%" height="100%" /></li>
                      <li><img alt="" class="img-responsive" src="img/onload2.jpg" width="100%" height="100%" /></li>
                      <li><img alt="" class="img-responsive" src="img/onload3.jpg" width="100%" height="100%" /></li>
                    </div>
                  </ul>
                  <a class="slider-control left" href="#" data-jump="prev"><i class="fa fa-angle-left fa-2x"></i></a>
                  <a class="slider-control right" href="#" data-jump="next"><i class="fa fa-angle-right fa-2x"></i></a>

                </div>
              </div>
            </div>
            <div class="col-lg-6">
                <button onclick="update_gangnam_parking_info('노상','parking_list_onload')" class='btn btn-lg btn-block'>업데이트</button><hr>
              <div class="company text-center" id="parking_list_onload">
      
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!--/about-->

  <!-- spacer section:testimonial -->
  <section id="on_menu" class="section" data-stellar-background-ratio="0.5">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="align-center">
            <div class="testimonial pad-top40 pad-bot40 clearfix">
              <h2 style="color:white">
                <b>노상 주차장은 야외 및 도로위에 있는 주차장입니다.</b>
              </h2>
              <br />
              <span class="author">&mdash; 서울시 <a href="#">공영주차장</a></span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section>
    <!--about-->
  <section id="off_street">
    <div class="container">
      <div class="about">
        <div class="row mar-bot40">
          <div class="col-md-offset-3 col-md-6">
            <div class="title">
              <div class="wow bounceIn">
                <h2 class="section-heading animated" data-animation="bounceInUp">노외주차장</h2>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="row-slider">
            <div class="col-lg-6 mar-bot30">
              <div class="responsive-slider" data-spy="responsive-slider" data-autoplay="true">
                <div class="slides" data-group="slides">
                  <ul>
                    <div class="slide-body" data-group="slide">
                      <li><img alt="" class="img-responsive" src="img/offload1.jpg" width="100%" height="100%" /></li>
                      <li><img alt="" class="img-responsive" src="img/offload2.jpg" width="100%" height="100%" /></li>
                      <li><img alt="" class="img-responsive" src="img/offload3.jpg" width="100%" height="100%" /></li>
                    </div>
                  </ul>
                  <a class="slider-control left" href="#" data-jump="prev"><i class="fa fa-angle-left fa-2x"></i></a>
                  <a class="slider-control right" href="#" data-jump="next"><i class="fa fa-angle-right fa-2x"></i></a>
                </div>
              </div>
            </div>
            <div class="col-lg-6 ">
                <button onclick="update_gangnam_parking_info('노외','parking_list_offload')" class="btn btn-lg btn-block">업데이트</button><hr>
                <div class="company text-center" id="parking_list_offload">
                
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!--/about-->
    <!-- spacer section:testimonial -->
  <section id="off_menu" class="section" data-stellar-background-ratio="0.5">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="align-center">
            <div class="testimonial pad-top40 pad-bot40 clearfix">
              <h2 style="color:white">
                <b>노외 주차장은 건물 및 지정된 위치에 있는 주차장입니다.</b>
              </h2>
              <br />
              <span class="author">&mdash; 서울시 <a href="#">공영주차장</a></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="footer" class="section footer">
    <div class="container">
      <div class="row animated opacity mar-bot0" data-andown="fadeIn" data-animation="animation">
        <div class="col-sm-12 align-center">
          <ul class="social-network social-circle">
            <li><a href="https://github.com/KANGSUNGHO/public_parking" class="icoGithub" title="Github"><i class="fa fa-github"></i></a></li>
            <li><a href="#" class="icoFacebook" title="Facebook"><i class="fa fa-facebook"></i></a></li>
          </ul>
        </div>
      </div>

      <div class="row align-center copyright">
        <div class="col-sm-12">
          <p>&copy; KANG SUNG HO</p>
          <div class="credits">
            Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
          </div>
        </div>
      </div>
    </div>

  </section>
  <a href="#header" class="scrollup"><i class="fa fa-chevron-up"></i></a>

  <script src="js/modernizr-2.6.2-respond-1.1.0.min.js"></script>
  <script src="js/jquery.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.isotope.min.js"></script>
  <script src="js/jquery.nicescroll.min.js"></script>
  <script src="js/fancybox/jquery.fancybox.pack.js"></script>
  <script src="js/skrollr.min.js"></script>
  <script src="js/jquery.scrollTo.js"></script>
  <script src="js/jquery.localScroll.js"></script>
  <script src="js/stellar.js"></script>
  <script src="js/responsive-slider.js"></script>
  <script src="js/jquery.appear.js"></script>
  <script src="js/grid.js"></script>
  <script src="js/main.js"></script>
  <script src="js/wow.min.js"></script>
  <script>
    wow = new WOW({}).init();
  </script>
  <script src="contactform/contactform.js"></script>

</body>

</html>
